<section>
    <div class="row">
        <div class="col-xs-offset-2 col-xs-9">
            <form class="form">
                <fieldset>
                    <legend>Nachfrage - {{ model?.nachfrageId }}</legend>
                </fieldset>
                <div class="row">
                    <div class="col-md-6">
                        <label>Zum Produkt</label>
                        <div class="input-group">
                            <a href="#/produkt/{{ model?.produktId }}">
                                <h3 class="detail-label form-control-static">{{ model?.produktName }}</h3>
                            </a>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label>Zum Teil</label>
                        <div class="input-group">
                            <a href="#/produkt/{{ model?.produktId }}">
                                <h3 class="detail-label form-control-static">{{ model?.teilName }}</h3>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-6">
                        <label>Geforderte Stückzahl</label>
                        <div class="input-group">
                            <span class="form-control-static">{{ model?.anzahl }}</span>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label>Erledigt</label>
                        <div class="input-group">
                            <i *ngIf="model?.istOffen" class="glyphicon glyphicon-minus form-control-static state-sign open"></i>
                            <i *ngIf="!model?.istOffen" class="glyphicon glyphicon-ok form-control-static state-sign closed"></i>
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>
    <hr />
    <div class="row">
        <div class="col-xs-offset-2 col-xs-9">
            <form class="form">
                <fieldset>
                    <legend>Vorhandene Angebote</legend>
                </fieldset>
            </form>
            <table class="table table-bordered">
                <tr>
                    <th>
                        Angebot
                    </th>
                    <th>
                        Erstellt Am
                    </th>
                    <th>
                        Preis pro Teil
                    </th>
                    <th>
                        Gesamtpreis
                    </th>
                    <th>
                        Status
                    </th>
                    <th colspan="2">
                        Aktionen
                    </th>
                    <th>
                        Bestes
                    </th>
                </tr>
                <tr *ngFor="#angebot of data">
                    <td>
                        <span>{{ angebot?.angebotId }}</span>
                    </td>
                    <td>{{ angebot.erstelltAm | momentdate }}</td>
                    <td>{{ angebot?.preisProTeil | currency:'CHF':false }}</td>
                    <td>{{ angebot?.preisTotal | currency:'CHF':false  }}</td>
                    <td class="table-cell-badge">
                        <span *ngIf="angebot?.status == 0" class="label label-warning label-as-badge center-block">Offen</span>
                        <span *ngIf="angebot?.status == 1" class="label label-success label-as-badge center-block">Akzeptiert</span>
                        <span *ngIf="angebot?.status == 2" class="label label-primary label-as-badge center-block">Abgelehnt</span>
                    </td>
                    <td>
                        <button (click)="onAcceptAngebot($event, angebot)" type="button" class="btn btn-success center-block" data-toggle="tooltip" data-placement="top" title="Annehmen"><i class="glyphicon glyphicon-thumbs-up"></i></button>
                    </td>
                    <td>
                        <button (click)="onDeclineAngebot($event, angebot)" type="button" class="btn btn-warning center-block" data-toggle="tooltip" data-placement="top" title="Ablehnen"><i class="glyphicon glyphicon-thumbs-down"></i></button>
                    </td>
                    <td>
                        <div class="text-center">
                            <i *ngIf="angebot.istBestesAngebot" class="glyphicon glyphicon-star-empty star-offer"></i>
                        </div>
                    </td>
                </tr>
            </table>
            <hr />
            <form class="form">
                <div class="input-group pull-right">
                    <a href="#/angebot/add/{{ model?.nachfrageId }}" class="btn btn-primary" title="Neues Angebot erstellen">
                        <i class="glyphicon glyphicon-plus"></i>
                        <span>Angebot erstellen</span>
                    </a>
                </div>
            </form>
        </div>
    </div>
</section>